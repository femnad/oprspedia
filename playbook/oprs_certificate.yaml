---
- hosts:
    rhodium
  name:
    Generate certificates

  vars:
    haproxy_config:
      base_domain:
        oprspedia.org
      backend_server:
        127.0.0.1:4000
      public_ip:
        163.172.184.91
    certbot_standalone:
      agree_tos:
        yes
      email: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        65316234646664353535313339666663366438373335376363393235663139636234653839303666
        3665313130633638333735323032656461613139613862330a373932653634613232323233313266
        32663334333230343738373164363863313564306665623831386564323566336632656330633132
        3231663765616130620a646530613266623561383766313033303363643530343730626131343531
        38363033303038353064626639656661336236306339353261613463383763646330
      domains:
        - oprspedia.org
        - en.oprspedia.org
        - en.m.oprspedia.org
        - upload.oprspedia.org

  roles:
    - certbot_standalone
    - haproxy_config
